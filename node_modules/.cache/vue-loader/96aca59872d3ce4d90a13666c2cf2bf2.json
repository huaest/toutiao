{"remainingRequest":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yanmaohua/Desktop/toutiao/toutiao/src/views/home/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/src/views/home/index.vue","mtime":1632293571475},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldEl0ZW0gfSBmcm9tICdAL3V0aWxzL3N0b3JhZ2UuanMnCmltcG9ydCBQb3BVcCBmcm9tICcuL2NvbXBvbmVudHMvUG9wb1VwLnZ1ZScKaW1wb3J0IEFydGljbGVMaXN0IGZyb20gJy4vY29tcG9uZW50cy9BcnRpY2xlTGlzdC52dWUnCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCcKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhY3RpdmU6IDAsCiAgICAgIGNoYW5uZWxzOiBbXSwKICAgICAgc2hvdzogZmFsc2UKICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIEFydGljbGVMaXN0LAogICAgUG9wVXAKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBTdGF0ZShbJ3VzZXInXSkKICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGdldENoYW5uZWxzKCkgewogICAgICAvLyDojrflj5bmlofnq6DliJfooagKICAgICAgaWYgKHRoaXMudXNlcikgewogICAgICAgIHRyeSB7CiAgICAgICAgICBjb25zdCB7IGRhdGE6IHJlcyB9ID0gYXdhaXQgdGhpcy4kYXhpb3MuZ2V0KCcvdjFfMC91c2VyL2NoYW5uZWxzJykKICAgICAgICAgIHRoaXMuY2hhbm5lbHMgPSByZXMuZGF0YS5jaGFubmVscwogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgdGhpcy4kdG9hc3QuZmFpbCgn6I635Y+W5paH56ug5YiX6KGo5aSx6LSlJykKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc29sZS5sb2coZ2V0SXRlbSgnbG9jYWwtY2hhbm5lbCcpKQogICAgICAgIHRoaXMuY2hhbm5lbHMgPSBnZXRJdGVtKCdsb2NhbC1jaGFubmVsJykKICAgICAgfQogICAgfSwKICAgIGNoYW5uZWxDaGFuZ2UoaW5kZXgsIGlzU2hvdyA9IHRydWUpIHsKICAgICAgdGhpcy5hY3RpdmUgPSBpbmRleAogICAgICB0aGlzLnNob3cgPSBpc1Nob3cKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldENoYW5uZWxzKCkKICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/home","sourcesContent":["<template>\n  <div class=\"home-container\">\n    <!-- 搜索区域 -->\n    <van-nav-bar fixed>\n      <van-button\n        class=\"sear-btn\"\n        slot=\"title\"\n        type=\"info\"\n        size=\"small\"\n        round\n        icon=\"search\"\n        to=\"/search\"\n      >\n        搜索</van-button\n      >\n    </van-nav-bar>\n\n    <!-- tab页 -->\n    <!-- 只能在有内容的地方滑动 -->\n    <van-tabs v-model=\"active\" border animated swipeable>\n      <van-tab :title=\"v.name\" v-for=\"v in channels\" :key=\"v.id\">\n        <!-- 组件化开发！ -->\n        <article-list :channel=\"v\"></article-list>\n      </van-tab>\n      <div slot=\"nav-right\" class=\"place\"></div>\n      <div slot=\"nav-right\" class=\"ham-btn\">\n        <i class=\"iconfont icon-gengduo\" @click=\"show = true\"></i>\n      </div>\n    </van-tabs>\n    <!-- 弹出层！ -->\n    <van-popup\n      v-model=\"show\"\n      closeable\n      position=\"bottom\"\n      :style=\"{ height: '100%' }\"\n      close-icon-position=\"top-left\"\n    >\n      <pop-up\n        :channels=\"channels\"\n        :active=\"active\"\n        @channel-change=\"channelChange\"\n      ></pop-up>\n    </van-popup>\n  </div>\n</template>\n\n<script>\nimport { getItem } from '@/utils/storage.js'\nimport PopUp from './components/PopoUp.vue'\nimport ArticleList from './components/ArticleList.vue'\nimport { mapState } from 'vuex'\nexport default {\n  data() {\n    return {\n      active: 0,\n      channels: [],\n      show: false\n    }\n  },\n  components: {\n    ArticleList,\n    PopUp\n  },\n  computed: {\n    ...mapState(['user'])\n  },\n  methods: {\n    async getChannels() {\n      // 获取文章列表\n      if (this.user) {\n        try {\n          const { data: res } = await this.$axios.get('/v1_0/user/channels')\n          this.channels = res.data.channels\n        } catch (err) {\n          this.$toast.fail('获取文章列表失败')\n        }\n      } else {\n        console.log(getItem('local-channel'))\n        this.channels = getItem('local-channel')\n      }\n    },\n    channelChange(index, isShow = true) {\n      this.active = index\n      this.show = isShow\n    }\n  },\n  created() {\n    this.getChannels()\n  }\n}\n</script>\nß\n<style lang=\"less\" >\n.van-ellipsis {\n  max-width: unset !important;\n}\n.sear-btn {\n  border: none;\n  background-color: rgb(70, 157, 255);\n  color: white !important;\n  width: 555px;\n  height: 64px;\n  line-height: 64px;\n  font-size: 28px;\n  .van-icon {\n    color: white;\n    font-size: 32px;\n  }\n}\n// 如果修改后样式改变，可以查看修改前的代码\n.van-tabs__wrap {\n  position: fixed;\n  z-index: 1;\n  left: 0;\n  right: 0;\n  top: 90px;\n  height: 82px;\n  .van-tab {\n    font-size: 30px;\n    min-width: 200px;\n  }\n  .van-tabs__nav {\n    padding-bottom: none !important;\n  }\n  .van-tabs__line {\n    width: 31px !important;\n    height: 6px !important;\n    background-color: rgb(43, 113, 243) !important;\n  }\n  .van-tab--active {\n    color: rgb(99, 102, 233);\n  }\n  .place {\n    width: 66px;\n    height: 82px;\n    flex-shrink: 0;\n  }\n  .ham-btn {\n    position: fixed;\n    right: 0;\n    width: 66px;\n    height: 82px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: #fff;\n    opacity: 0.902;\n    border-left: 1px solid #ccc;\n\n    i.iconfont {\n      font-size: 33px;\n    }\n  }\n}\n.home-container {\n  padding-top: 174px;\n  padding-bottom: 100px;\n}\n</style>\n"]}]}