{"remainingRequest":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yanmaohua/Desktop/toutiao/toutiao/src/views/article/components/CommentItem.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/src/views/article/components/CommentItem.vue","mtime":1632457326816},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgY29tbWVudDogewogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgdHllcDogT2JqZWN0CiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9hZGluZzogZmFsc2UKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGFkZExpa2UoKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWUKICAgICAgdHJ5IHsKICAgICAgICBpZiAoIXRoaXMuY29tbWVudC5pc19saWtpbmcpIHsKICAgICAgICAgIGF3YWl0IHRoaXMuJGF4aW9zLnBvc3QoJ3YxXzAvY29tbWVudC9saWtpbmdzJywgewogICAgICAgICAgICB0YXJnZXQ6IHRoaXMuY29tbWVudC5jb21faWQKICAgICAgICAgIH0pCiAgICAgICAgICB0aGlzLmNvbW1lbnQuaXNfbGlraW5nID0gdHJ1ZQogICAgICAgICAgdGhpcy5jb21tZW50Lmxpa2VfY291bnQrKwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhd2FpdCB0aGlzLiRheGlvcy5kZWxldGUoCiAgICAgICAgICAgIGB2MV8wL2NvbW1lbnQvbGlraW5ncy8ke3RoaXMuY29tbWVudC5jb21faWR9YAogICAgICAgICAgKQogICAgICAgICAgdGhpcy5jb21tZW50LmlzX2xpa2luZyA9IGZhbHNlCiAgICAgICAgICB0aGlzLmNvbW1lbnQubGlrZV9jb3VudC0tCiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHt9CiAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["CommentItem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CommentItem.vue","sourceRoot":"src/views/article/components","sourcesContent":["<template>\n  <van-cell class=\"comment-item\">\n    <van-image\n      slot=\"icon\"\n      class=\"avatar\"\n      round\n      fit=\"cover\"\n      src=\"https://img.yzcdn.cn/vant/cat.jpeg\"\n    />\n    <div slot=\"title\" class=\"title-wrap\">\n      <div class=\"user-name\">{{ comment.aut_name }}</div>\n      <van-button\n        class=\"like-btn\"\n        :class=\"{ like: comment.is_liking }\"\n        :icon=\"comment.is_liking ? 'good-job' : 'good-job-o'\"\n        @click=\"addLike\"\n        :loading=\"this.loading\"\n        >{{ comment.like_count || '赞' }}</van-button\n      >\n    </div>\n\n    <div slot=\"label\">\n      <p class=\"comment-content\">{{ comment.content }}</p>\n      <div class=\"bottom-info\">\n        <span class=\"comment-pubdate\">{{ comment.pubdate | computeTime }}</span>\n        <van-button class=\"reply-btn\" round\n          >回复 {{ comment.reply_count }}</van-button\n        >\n      </div>\n    </div>\n  </van-cell>\n</template>\n\n<script>\nexport default {\n  props: {\n    comment: {\n      required: true,\n      tyep: Object\n    }\n  },\n  data() {\n    return {\n      loading: false\n    }\n  },\n  methods: {\n    async addLike() {\n      this.loading = true\n      try {\n        if (!this.comment.is_liking) {\n          await this.$axios.post('v1_0/comment/likings', {\n            target: this.comment.com_id\n          })\n          this.comment.is_liking = true\n          this.comment.like_count++\n        } else {\n          await this.$axios.delete(\n            `v1_0/comment/likings/${this.comment.com_id}`\n          )\n          this.comment.is_liking = false\n          this.comment.like_count--\n        }\n      } catch (err) {}\n      this.loading = false\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.comment-item {\n  .avatar {\n    width: 72px;\n    height: 72px;\n    margin-right: 25px;\n  }\n  .title-wrap {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    .user-name {\n      color: #406599;\n      font-size: 26px;\n    }\n  }\n  .comment-content {\n    font-size: 32px;\n    color: #222222;\n    word-break: break-all;\n    text-align: justify;\n  }\n  .comment-pubdate {\n    font-size: 19px;\n    color: #222;\n    margin-right: 25px;\n  }\n  .bottom-info {\n    display: flex;\n    align-items: center;\n  }\n  .reply-btn {\n    width: 135px;\n    height: 48px;\n    line-height: 48px;\n    font-size: 21px;\n    color: #222;\n  }\n  .like-btn {\n    height: 30px;\n    padding: 0;\n    border: none;\n    font-size: 19px;\n    line-height: 30px;\n    margin-right: 7px;\n    .van-icon {\n      font-size: 30px;\n    }\n  }\n}\n.like {\n  color: rgb(243, 0, 0);\n}\n</style>\n"]}]}