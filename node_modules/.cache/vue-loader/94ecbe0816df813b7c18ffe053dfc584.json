{"remainingRequest":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yanmaohua/Desktop/toutiao/toutiao/src/views/userInfo/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/src/views/userInfo/index.vue","mtime":1632474951354},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBVcGRhdGVOYW1lIGZyb20gJy4vY29tcG9uZW50cy9VcGRhdGVOYW1lLnZ1ZScKaW1wb3J0IFVwZGF0ZUdlbmRlciBmcm9tICdAL3ZpZXdzL3VzZXJJbmZvL2NvbXBvbmVudHMvVXBkYXRlR2VuZGVyJwppbXBvcnQgVXBkYXRlQmlyIGZyb20gJ0Avdmlld3MvdXNlckluZm8vY29tcG9uZW50cy9VcGRhdGVCaXInCmltcG9ydCBVcGRhdGVJbWcgZnJvbSAnQC92aWV3cy91c2VySW5mby9jb21wb25lbnRzL1VwZGF0ZUltZycKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VyOiB7fSwKICAgICAgbmFtZVNob3c6IGZhbHNlLAogICAgICBnZW5kZXJTaG93OiBmYWxzZSwKICAgICAgYmlyU2hvdzogZmFsc2UsCiAgICAgIGltZ1Nob3c6IGZhbHNlLAogICAgICBpbWc6ICcnCiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBVcGRhdGVOYW1lLAogICAgVXBkYXRlR2VuZGVyLAogICAgVXBkYXRlQmlyLAogICAgVXBkYXRlSW1nCiAgfSwKICBtZXRob2RzOiB7CiAgICBvbkNsaWNrTGVmdCgpIHsKICAgICAgdGhpcy4kcm91dGVyLmJhY2soKQogICAgfSwKICAgIGFzeW5jIGdldEluZm8oKSB7CiAgICAgIGNvbnN0IHsgZGF0YTogcmVzIH0gPSBhd2FpdCB0aGlzLiRheGlvcy5nZXQoJ3YxXzAvdXNlci9wcm9maWxlJykKICAgICAgdGhpcy51c2VyID0gcmVzLmRhdGEKICAgIH0sCiAgICBjaGFuZ2VOYW1lKHZhbCkgewogICAgICB0aGlzLm5hbWVTaG93ID0gZmFsc2UKICAgICAgdGhpcy51c2VyLm5hbWUgPSB2YWwKICAgIH0sCiAgICBjaGFuZ2VHZW5kZXIodmFsKSB7CiAgICAgIHRoaXMuZ2VuZGVyU2hvdyA9IGZhbHNlCiAgICAgIHRoaXMudXNlci5nZW5kZXIgPSB2YWwKICAgIH0sCiAgICBjaGFuZ2VCaXIodmFsKSB7CiAgICAgIHRoaXMudXNlci5iaXJ0aGRheSA9IHZhbAogICAgICB0aGlzLmJpclNob3cgPSBmYWxzZQogICAgfSwKICAgIG9uRmlsZUNoYW5nZSgpIHsKICAgICAgY29uc3QgZmlsZSA9IHRoaXMuJHJlZnMuZmlsZS5maWxlc1swXQogICAgICBjb25zdCBkYXRhID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSkKICAgICAgdGhpcy5pbWdTaG93ID0gdHJ1ZQogICAgICAvLyAgIOa4heepuuaJjeiDveWHuuWPkWNoYW5nZeS6i+S7tgogICAgICB0aGlzLiRyZWZzLmZpbGUudmFsdWUgPSAnJwogICAgICB0aGlzLmltZyA9IGRhdGEKICAgIH0sCiAgICBjaGFuZ2VJbWcodmFsKSB7CiAgICAgIHRoaXMuaW1nID0gdmFsCiAgICAgIHRoaXMuaW1nU2hvdyA9IGZhbHNlCiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRJbmZvKCkKICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/userInfo","sourcesContent":["<template>\n  <div>\n    <van-nav-bar title=\"标题\" left-arrow @click-left=\"onClickLeft\" />\n    <input type=\"file\" ref=\"file\" hidden @change=\"onFileChange\" />\n    <van-popup\n      v-if=\"imgShow\"\n      v-model=\"imgShow\"\n      position=\"bottom\"\n      :style=\"{ height: '100%' }\"\n    >\n      <update-img\n        :img=\"img\"\n        @changeImg=\"changeImg\"\n        @closeImg=\"imgShow = false\"\n      ></update-img>\n    </van-popup>\n    <van-cell title=\"头像\" is-link @click=\"$refs.file.click()\">\n      <van-image class=\"avatar\" fit=\"cover\" round :src=\"user.photo\">\n      </van-image>\n    </van-cell>\n    <van-cell\n      title=\"昵称\"\n      @click=\"nameShow = true\"\n      :value=\"user.name\"\n      is-link\n    ></van-cell>\n    <van-popup\n      v-if=\"nameShow\"\n      v-model=\"nameShow\"\n      position=\"bottom\"\n      :style=\"{ height: '100%' }\"\n    >\n      <update-name\n        v-model=\"user.name\"\n        @closePop=\"nameShow = false\"\n        @changeName=\"changeName\"\n      ></update-name>\n    </van-popup>\n    <van-cell\n      title=\"性别\"\n      :value=\"user.gender === 1 ? '女' : '男'\"\n      @click=\"genderShow = true\"\n      is-link\n    ></van-cell>\n    <van-popup\n      v-if=\"genderShow\"\n      v-model=\"genderShow\"\n      position=\"bottom\"\n      :style=\"{ height: '40%' }\"\n    >\n      <update-gender\n        :gender=\"user.gender\"\n        @closeGender=\"genderShow = false\"\n        @changeGender=\"changeGender\"\n      ></update-gender>\n    </van-popup>\n    <van-cell\n      title=\"生日\"\n      :value=\"user.birthday\"\n      @click=\"birShow = true\"\n      is-link\n    ></van-cell>\n    <van-popup\n      v-if=\"birShow\"\n      v-model=\"birShow\"\n      position=\"bottom\"\n      :style=\"{ height: '50%' }\"\n    >\n      <update-bir\n        :bir=\"user.birthday\"\n        @closeBir=\"birShow = false\"\n        @changeBir=\"changeBir\"\n      ></update-bir>\n    </van-popup>\n  </div>\n</template>\n\n<script>\nimport UpdateName from './components/UpdateName.vue'\nimport UpdateGender from '@/views/userInfo/components/UpdateGender'\nimport UpdateBir from '@/views/userInfo/components/UpdateBir'\nimport UpdateImg from '@/views/userInfo/components/UpdateImg'\nexport default {\n  data() {\n    return {\n      user: {},\n      nameShow: false,\n      genderShow: false,\n      birShow: false,\n      imgShow: false,\n      img: ''\n    }\n  },\n  components: {\n    UpdateName,\n    UpdateGender,\n    UpdateBir,\n    UpdateImg\n  },\n  methods: {\n    onClickLeft() {\n      this.$router.back()\n    },\n    async getInfo() {\n      const { data: res } = await this.$axios.get('v1_0/user/profile')\n      this.user = res.data\n    },\n    changeName(val) {\n      this.nameShow = false\n      this.user.name = val\n    },\n    changeGender(val) {\n      this.genderShow = false\n      this.user.gender = val\n    },\n    changeBir(val) {\n      this.user.birthday = val\n      this.birShow = false\n    },\n    onFileChange() {\n      const file = this.$refs.file.files[0]\n      const data = window.URL.createObjectURL(file)\n      this.imgShow = true\n      //   清空才能出发change事件\n      this.$refs.file.value = ''\n      this.img = data\n    },\n    changeImg(val) {\n      this.img = val\n      this.imgShow = false\n    }\n  },\n  created() {\n    this.getInfo()\n  }\n}\n</script>\n\n<style>\n.avatar {\n  width: 70px;\n  height: 70px;\n}\n.van-popup {\n  background-color: #f5f7f9;\n}\n</style>\n"]}]}