{"remainingRequest":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yanmaohua/Desktop/toutiao/toutiao/src/views/userInfo/index.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/src/views/userInfo/index.vue","mtime":1632474951354},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5hdmF0YXIgewogIHdpZHRoOiA3MHB4OwogIGhlaWdodDogNzBweDsKfQoudmFuLXBvcHVwIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmN2Y5Owp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2IA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/userInfo","sourcesContent":["<template>\n  <div>\n    <van-nav-bar title=\"标题\" left-arrow @click-left=\"onClickLeft\" />\n    <input type=\"file\" ref=\"file\" hidden @change=\"onFileChange\" />\n    <van-popup\n      v-if=\"imgShow\"\n      v-model=\"imgShow\"\n      position=\"bottom\"\n      :style=\"{ height: '100%' }\"\n    >\n      <update-img\n        :img=\"img\"\n        @changeImg=\"changeImg\"\n        @closeImg=\"imgShow = false\"\n      ></update-img>\n    </van-popup>\n    <van-cell title=\"头像\" is-link @click=\"$refs.file.click()\">\n      <van-image class=\"avatar\" fit=\"cover\" round :src=\"user.photo\">\n      </van-image>\n    </van-cell>\n    <van-cell\n      title=\"昵称\"\n      @click=\"nameShow = true\"\n      :value=\"user.name\"\n      is-link\n    ></van-cell>\n    <van-popup\n      v-if=\"nameShow\"\n      v-model=\"nameShow\"\n      position=\"bottom\"\n      :style=\"{ height: '100%' }\"\n    >\n      <update-name\n        v-model=\"user.name\"\n        @closePop=\"nameShow = false\"\n        @changeName=\"changeName\"\n      ></update-name>\n    </van-popup>\n    <van-cell\n      title=\"性别\"\n      :value=\"user.gender === 1 ? '女' : '男'\"\n      @click=\"genderShow = true\"\n      is-link\n    ></van-cell>\n    <van-popup\n      v-if=\"genderShow\"\n      v-model=\"genderShow\"\n      position=\"bottom\"\n      :style=\"{ height: '40%' }\"\n    >\n      <update-gender\n        :gender=\"user.gender\"\n        @closeGender=\"genderShow = false\"\n        @changeGender=\"changeGender\"\n      ></update-gender>\n    </van-popup>\n    <van-cell\n      title=\"生日\"\n      :value=\"user.birthday\"\n      @click=\"birShow = true\"\n      is-link\n    ></van-cell>\n    <van-popup\n      v-if=\"birShow\"\n      v-model=\"birShow\"\n      position=\"bottom\"\n      :style=\"{ height: '50%' }\"\n    >\n      <update-bir\n        :bir=\"user.birthday\"\n        @closeBir=\"birShow = false\"\n        @changeBir=\"changeBir\"\n      ></update-bir>\n    </van-popup>\n  </div>\n</template>\n\n<script>\nimport UpdateName from './components/UpdateName.vue'\nimport UpdateGender from '@/views/userInfo/components/UpdateGender'\nimport UpdateBir from '@/views/userInfo/components/UpdateBir'\nimport UpdateImg from '@/views/userInfo/components/UpdateImg'\nexport default {\n  data() {\n    return {\n      user: {},\n      nameShow: false,\n      genderShow: false,\n      birShow: false,\n      imgShow: false,\n      img: ''\n    }\n  },\n  components: {\n    UpdateName,\n    UpdateGender,\n    UpdateBir,\n    UpdateImg\n  },\n  methods: {\n    onClickLeft() {\n      this.$router.back()\n    },\n    async getInfo() {\n      const { data: res } = await this.$axios.get('v1_0/user/profile')\n      this.user = res.data\n    },\n    changeName(val) {\n      this.nameShow = false\n      this.user.name = val\n    },\n    changeGender(val) {\n      this.genderShow = false\n      this.user.gender = val\n    },\n    changeBir(val) {\n      this.user.birthday = val\n      this.birShow = false\n    },\n    onFileChange() {\n      const file = this.$refs.file.files[0]\n      const data = window.URL.createObjectURL(file)\n      this.imgShow = true\n      //   清空才能出发change事件\n      this.$refs.file.value = ''\n      this.img = data\n    },\n    changeImg(val) {\n      this.img = val\n      this.imgShow = false\n    }\n  },\n  created() {\n    this.getInfo()\n  }\n}\n</script>\n\n<style>\n.avatar {\n  width: 70px;\n  height: 70px;\n}\n.van-popup {\n  background-color: #f5f7f9;\n}\n</style>\n"]}]}