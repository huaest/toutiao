{"remainingRequest":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/babel-loader/lib/index.js!/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yanmaohua/Desktop/toutiao/toutiao/src/views/search/components/SearchAdvice.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/src/views/search/components/SearchAdvice.vue","mtime":1632223020882},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy95YW5tYW9odWEvRGVza3RvcC90b3V0aWFvL3RvdXRpYW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGRlYm91bmNlIH0gZnJvbSAnbG9kYXNoJzsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICBzZWFyY2hUZXh0OiB7CiAgICAgIHJlcXVpcmU6IHRydWUsCiAgICAgIHR5cGU6IFN0cmluZwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFkdmljZUxpc3Q6IFtdCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0QWR2aWNlOiBmdW5jdGlvbiBnZXRBZHZpY2UoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBfeWllbGQkX3RoaXMkJGF4aW9zJGcsIHJlczsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJGF4aW9zLmdldCgndjFfMC9zdWdnZXN0aW9uJywgewogICAgICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgICAgICBxOiBfdGhpcy5zZWFyY2hUZXh0CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfeWllbGQkX3RoaXMkJGF4aW9zJGcgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgcmVzID0gX3lpZWxkJF90aGlzJCRheGlvcyRnLmRhdGE7CiAgICAgICAgICAgICAgICBfdGhpcy5hZHZpY2VMaXN0ID0gcmVzLmRhdGEub3B0aW9uczsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgLy8g55uR5ZCs5bGe5oCn55qE5L2/55SoCiAgd2F0Y2g6IHsKICAgIHNlYXJjaFRleHQ6IHsKICAgICAgLy8g6K6+572u6Ziy5oqW77yMZGVib3VuY2UKICAgICAgLy8g56ys5LiA5Liq5Y+C5pWw5piv5LiA5Liq5Ye95pWwCiAgICAgIC8vIOesrOS6jOS4quWPguaVsOaYr+S4gOS4quW7tui/n+aXtumXtO+8jOWPquimgeWGjeWHuuWPkeWwseS8muWGjeW7tui/n+i/meS5iOWkmuaXtumXtAogICAgICBoYW5kbGVyOiBkZWJvdW5jZShmdW5jdGlvbiAodikgewogICAgICAgIHRoaXMuZ2V0QWR2aWNlKCk7CiAgICAgIH0sIDI1MCksCiAgICAgIC8vIOmHjeimge+8ge+8ge+8gQogICAgICAvLyDnu4Tku7bov5jmsqHmuLLmn5Plh7rmnaXlsLHnm5HlkKwKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["SearchAdvice.vue"],"names":[],"mappings":";;;;;;;;;;;;;AAYA,SAAA,QAAA,QAAA,QAAA;AAEA,eAAA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,UAAA,EAAA;AACA,MAAA,OAAA,EAAA,IADA;AAEA,MAAA,IAAA,EAAA;AAFA;AADA,GADA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,UAAA,EAAA;AADA,KAAA;AAGA,GAXA;AAYA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,uBACA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,MAAA,CAAA,GAAA,CAAA,iBAAA,EAAA;AACA,kBAAA,MAAA,EAAA;AACA,oBAAA,CAAA,EAAA,KAAA,CAAA;AADA;AADA,iBAAA,CADA;;AAAA;AAAA;AACA,gBAAA,GADA,yBACA,IADA;AAMA,gBAAA,KAAA,CAAA,UAAA,GAAA,GAAA,CAAA,IAAA,CAAA,OAAA;;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AARA,GAZA;AAsBA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,UAAA,EAAA;AACA;AACA;AACA;AACA,MAAA,OAAA,EAAA,QAAA,CAAA,UAAA,CAAA,EAAA;AACA,aAAA,SAAA;AACA,OAFA,EAEA,GAFA,CAJA;AAOA;AACA;AACA,MAAA,SAAA,EAAA;AATA;AADA;AAvBA,CAAA","sourcesContent":["<template>\n  <div>\n    <van-cell\n      v-for=\"(v, index) in adviceList\"\n      :key=\"index\"\n      :title=\"v\"\n      icon=\"search\"\n    ></van-cell>\n  </div>\n</template>\n\n<script>\nimport { debounce } from 'lodash'\n\nexport default {\n  props: {\n    searchText: {\n      require: true,\n      type: String\n    }\n  },\n  data() {\n    return {\n      adviceList: []\n    }\n  },\n  methods: {\n    async getAdvice() {\n      const { data: res } = await this.$axios.get('v1_0/suggestion', {\n        params: {\n          q: this.searchText\n        }\n      })\n      this.adviceList = res.data.options\n    }\n  },\n  // 监听属性的使用\n  watch: {\n    searchText: {\n      // 设置防抖，debounce\n      // 第一个参数是一个函数\n      // 第二个参数是一个延迟时间，只要再出发就会再延迟这么多时间\n      handler: debounce(function (v) {\n        this.getAdvice()\n      }, 250),\n      // 重要！！！\n      // 组件还没渲染出来就监听\n      immediate: true\n    }\n  }\n}\n</script>\n<style lang=\"less\" scoped>\n</style>\n"],"sourceRoot":"src/views/search/components"}]}