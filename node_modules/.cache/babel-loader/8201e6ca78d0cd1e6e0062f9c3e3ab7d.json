{"remainingRequest":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/babel-loader/lib/index.js!/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yanmaohua/Desktop/toutiao/toutiao/src/views/home/components/PopoUp.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/src/views/home/components/PopoUp.vue","mtime":1632126128047},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy95YW5tYW9odWEvRGVza3RvcC90b3V0aWFvL3RvdXRpYW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMveWFubWFvaHVhL0Rlc2t0b3AvdG91dGlhby90b3V0aWFvL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgc2V0SXRlbSB9IGZyb20gJ0AvdXRpbHMvc3RvcmFnZS5qcyc7CmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWxsQ2hhbm5lbHM6IFtdLAogICAgICBpc0VkaXQ6IGZhbHNlLAogICAgICBmaXhDaGFubmVsczogWzBdCiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIGNoYW5uZWxzOiB7CiAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICB0eXBlOiBBcnJheQogICAgfSwKICAgIGFjdGl2ZTogewogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgdHlwZTogTnVtYmVyCiAgICB9CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZShbJ3VzZXInXSkpLCB7fSwgewogICAgLy8gICDlm6DkuLropoHml7bliLvnm5HlkKznlKjmiLfnmoTpgInmi6nvvIzmiYDku6XopoHnlKjorqHnrpflsZ7mgKfvvIHvvIHvvIEKICAgIGNvbXB1dGVDaGFubmVsczogZnVuY3Rpb24gY29tcHV0ZUNoYW5uZWxzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIG5ld0NoYW5uZWxzID0gW107CiAgICAgIHRoaXMuYWxsQ2hhbm5lbHMuZm9yRWFjaChmdW5jdGlvbiAoY2hhbm5lbCkgewogICAgICAgIC8vICAg5om+5Yiw56ym5ZCI5p2h5Lu255qE5YWD57SgCiAgICAgICAgdmFyIHJlcyA9IF90aGlzLmNoYW5uZWxzLmZpbmQoZnVuY3Rpb24gKG15KSB7CiAgICAgICAgICByZXR1cm4gbXkuaWQgPT09IGNoYW5uZWwuaWQ7CiAgICAgICAgfSk7CgogICAgICAgIGlmICghcmVzKSB7CiAgICAgICAgICBuZXdDaGFubmVscy5wdXNoKGNoYW5uZWwpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiBuZXdDaGFubmVsczsKICAgIH0KICB9KSwKICBtZXRob2RzOiB7CiAgICAvLyAgIOaJgOaciemikemBk+ivt+axguaooeWdlwogICAgZ2V0Q2hhbm5lbHM6IGZ1bmN0aW9uIGdldENoYW5uZWxzKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF95aWVsZCRfdGhpczIkJGF4aW9zJCwgcmVzOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kYXhpb3MuZ2V0KCd2MV8wL2NoYW5uZWxzJyk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF95aWVsZCRfdGhpczIkJGF4aW9zJCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICByZXMgPSBfeWllbGQkX3RoaXMyJCRheGlvcyQuZGF0YTsKICAgICAgICAgICAgICAgIF90aGlzMi5hbGxDaGFubmVscyA9IHJlcy5kYXRhLmNoYW5uZWxzOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA4OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgwKTsKCiAgICAgICAgICAgICAgICBfdGhpczIuJHRvYXN0LmZhaWwoJ+iOt+WPluWIl+ihqOWksei0pScpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1swLCA4XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBhZGRJdGVtOiBmdW5jdGlvbiBhZGRJdGVtKGl0ZW0pIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMzLmlzRWRpdCA9PT0gdHJ1ZSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMzLmNoYW5uZWxzLnB1c2goaXRlbSk7CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczMudXNlcikgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDM7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLiRheGlvcy5wYXRjaCgndjFfMC91c2VyL2NoYW5uZWxzJywgewogICAgICAgICAgICAgICAgICBjaGFubmVsczogW3sKICAgICAgICAgICAgICAgICAgICBpZDogaXRlbS5pZCwKICAgICAgICAgICAgICAgICAgICBzZXE6IF90aGlzMy5jaGFubmVscy5sZW5ndGgKICAgICAgICAgICAgICAgICAgfV0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDExOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gODsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgzKTsKCiAgICAgICAgICAgICAgICBfdGhpczMuJHRvYXN0LmZhaWwoJ+aVsOaNruS/neWtmOWksei0pScpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgc2V0SXRlbSgnbG9jYWwtY2hhbm5lbCcsIF90aGlzMy5jaGFubmVscyk7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMywgOF1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZWRpdDogZnVuY3Rpb24gZWRpdCgpIHsKICAgICAgdGhpcy5pc0VkaXQgPSAhdGhpcy5pc0VkaXQ7CiAgICB9LAogICAgLy8g5Y+q6YCC55So5LqO54i25a2Q57uE5Lu25Lyg5YC877yB77yBCiAgICBjaGFuZ2VDaGFubmVsOiBmdW5jdGlvbiBjaGFuZ2VDaGFubmVsKGNoYW5uZWwsIGluZGV4KSB7CiAgICAgIGlmICghdGhpcy5pc0VkaXQpIHsKICAgICAgICB0aGlzLiRlbWl0KCdjaGFubmVsLWNoYW5nZScsIGluZGV4LCBmYWxzZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gICDlm7rlrprkuI3og73liKDpmaTnmoTmlbDmja4KICAgICAgICBpZiAodGhpcy5maXhDaGFubmVscy5pbmNsdWRlcyhjaGFubmVsLmlkKSkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgaWYgKGluZGV4IDw9IHRoaXMuYWN0aXZlKSB7CiAgICAgICAgICB0aGlzLiRlbWl0KCdjaGFubmVsLWNoYW5nZScsIHRoaXMuYWN0aXZlIC0gMSwgdHJ1ZSk7CiAgICAgICAgfSAvLyDmlbDnu4TnmoTliKDpmaTmk43kvZzvvIzmmK/lr7nljp/mlbDnu4TnmoTmk43kvZzvvIHvvIHvvIEKCgogICAgICAgIHRoaXMuY2hhbm5lbHMuc3BsaWNlKGluZGV4LCAxKTsKCiAgICAgICAgaWYgKHRoaXMudXNlcikgewogICAgICAgICAgdGhpcy5kZWxldGVDaGFubmVsKGNoYW5uZWwpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzZXRJdGVtKCdsb2NhbC1jaGFubmVsJywgdGhpcy5jaGFubmVscyk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgZGVsZXRlQ2hhbm5lbDogZnVuY3Rpb24gZGVsZXRlQ2hhbm5lbChjaGFubmVsKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghX3RoaXM0LnVzZXIpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAxOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC4kYXhpb3MuZGVsZXRlKCJ2MV8wL3VzZXIvY2hhbm5lbHMvIi5jb25jYXQoY2hhbm5lbC5pZCkpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDk7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSA2OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzWyJjYXRjaCJdKDEpOwoKICAgICAgICAgICAgICAgIF90aGlzNC4kdG9hc3QuZmFpbCgn5pWw5o2u5a2Y5YKo5aSx6LSlJyk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMywgbnVsbCwgW1sxLCA2XV0pOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldENoYW5uZWxzKCk7CiAgfQp9Ow=="},{"version":3,"sources":["PopoUp.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"channel-edit\">\n    <van-cell class=\"cell\">\n      <div slot=\"title\">我的频道</div>\n      <van-button type=\"primary\" size=\"mini\" round @click=\"edit\">{{\n        isEdit ? '完成' : '编辑'\n      }}</van-button>\n    </van-cell>\n    <van-grid :gutter=\"10\" class=\"delete-edit\">\n      <van-grid-item\n        class=\"grid-item\"\n        v-for=\"(value, index) in channels\"\n        :key=\"index\"\n        icon=\"clear\"\n        @click=\"changeChannel(value, index)\"\n      >\n        <van-icon\n          slot=\"icon\"\n          name=\"clear\"\n          v-show=\"isEdit && !fixChannels.includes(value.id)\"\n        ></van-icon>\n        <span slot=\"text\" class=\"text\" :class=\"{ active: index === active }\">{{\n          value.name\n        }}</span>\n      </van-grid-item>\n    </van-grid>\n    <!-- 频道推荐 -->\n    <van-cell class=\"cell\">\n      <div slot=\"title\">频道推荐</div>\n    </van-cell>\n    <van-grid :gutter=\"10\" class=\"commend-edit\">\n      <van-grid-item\n        class=\"grid-item\"\n        v-for=\"value in computeChannels\"\n        :key=\"value.id\"\n        :text=\"value.name\"\n        @click=\"addItem(value)\"\n      >\n        <van-icon slot=\"icon\" name=\"plus\" v-show=\"isEdit === true\"></van-icon>\n      </van-grid-item>\n    </van-grid>\n  </div>\n</template>\n\n<script>\nimport { setItem } from '@/utils/storage.js'\nimport { mapState } from 'vuex'\nexport default {\n  data() {\n    return {\n      allChannels: [],\n      isEdit: false,\n      fixChannels: [0]\n    }\n  },\n  props: {\n    channels: {\n      required: true,\n      type: Array\n    },\n    active: {\n      required: true,\n      type: Number\n    }\n  },\n  computed: {\n    ...mapState(['user']),\n    //   因为要时刻监听用户的选择，所以要用计算属性！！！\n    computeChannels() {\n      const newChannels = []\n      this.allChannels.forEach((channel) => {\n        //   找到符合条件的元素\n        const res = this.channels.find((my) => {\n          return my.id === channel.id\n        })\n        if (!res) {\n          newChannels.push(channel)\n        }\n      })\n      return newChannels\n    }\n  },\n  methods: {\n    //   所有频道请求模块\n    async getChannels() {\n      try {\n        const { data: res } = await this.$axios.get('v1_0/channels')\n        this.allChannels = res.data.channels\n      } catch (err) {\n        this.$toast.fail('获取列表失败')\n      }\n    },\n    async addItem(item) {\n      if (this.isEdit === true) {\n        this.channels.push(item)\n        if (this.user) {\n          try {\n            //   每添加一个发送请求\n            await this.$axios.patch('v1_0/user/channels', {\n              channels: [\n                {\n                  id: item.id,\n                  seq: this.channels.length\n                }\n              ]\n            })\n          } catch (err) {\n            this.$toast.fail('数据保存失败')\n          }\n        } else {\n          setItem('local-channel', this.channels)\n        }\n      }\n    },\n    edit() {\n      this.isEdit = !this.isEdit\n    },\n    // 只适用于父子组件传值！！\n    changeChannel(channel, index) {\n      if (!this.isEdit) {\n        this.$emit('channel-change', index, false)\n      } else {\n        //   固定不能删除的数据\n        if (this.fixChannels.includes(channel.id)) {\n          return\n        }\n        if (index <= this.active) {\n          this.$emit('channel-change', this.active - 1, true)\n        }\n        // 数组的删除操作，是对原数组的操作！！！\n        this.channels.splice(index, 1)\n        if (this.user) {\n          this.deleteChannel(channel)\n        } else {\n          setItem('local-channel', this.channels)\n        }\n      }\n    },\n    async deleteChannel(channel) {\n      if (this.user) {\n        try {\n          await this.$axios.delete(`v1_0/user/channels/${channel.id}`)\n        } catch (err) {\n          this.$toast.fail('数据存储失败')\n        }\n      } else {\n      }\n    }\n  },\n  created() {\n    this.getChannels()\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.channel-edit {\n  padding: 85px 0;\n}\n.delete-edit {\n  /deep/ .grid-item {\n    width: 160px;\n    height: 86px;\n    .van-grid-item__content {\n      white-space: nowrap;\n      background-color: #f4f5f6;\n      flex-direction: row;\n      font-size: 28px;\n      .van-grid-item__icon-wrapper {\n        position: unset;\n      }\n      .van-icon-clear {\n        position: absolute;\n        right: -10px;\n        top: -10px;\n        font-size: 30px;\n        z-index: 2;\n      }\n      .van-grid-item__text,\n      .text {\n        font-size: 25px;\n        margin-top: 10px;\n      }\n    }\n  }\n}\n.commend-edit {\n  /deep/ .grid-item {\n    width: 160px;\n    height: 86px;\n    .van-grid-item__content {\n      white-space: nowrap;\n      overflow: hidden;\n      background-color: #f4f5f6;\n      flex-direction: row;\n      font-size: 28px;\n      .van-icon {\n        font-size: 24px;\n      }\n      .van-grid-item__text {\n        margin-top: 10px;\n      }\n    }\n  }\n}\n\n.active {\n  color: red;\n}\n</style>\n"],"sourceRoot":"src/views/home/components"}]}