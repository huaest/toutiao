{"remainingRequest":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/thread-loader/dist/cjs.js!/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/babel-loader/lib/index.js!/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yanmaohua/Desktop/toutiao/toutiao/src/views/search/components/SearchAdvice.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/src/views/search/components/SearchAdvice.vue","mtime":1632225610611},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy95YW5tYW9odWEvRGVza3RvcC90b3V0aWFvL3RvdXRpYW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZGVib3VuY2UgfSBmcm9tICdsb2Rhc2gnOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIHNlYXJjaFRleHQ6IHsKICAgICAgcmVxdWlyZTogdHJ1ZSwKICAgICAgdHlwZTogU3RyaW5nCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWR2aWNlTGlzdDogW10KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRBZHZpY2U6IGZ1bmN0aW9uIGdldEFkdmljZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF95aWVsZCRfdGhpcyQkYXhpb3MkZywgcmVzOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kYXhpb3MuZ2V0KCd2MV8wL3N1Z2dlc3Rpb24nLCB7CiAgICAgICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgICAgIHE6IF90aGlzLnNlYXJjaFRleHQKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF95aWVsZCRfdGhpcyQkYXhpb3MkZyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICByZXMgPSBfeWllbGQkX3RoaXMkJGF4aW9zJGcuZGF0YTsKICAgICAgICAgICAgICAgIF90aGlzLmFkdmljZUxpc3QgPSByZXMuZGF0YS5vcHRpb25zOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgaGlnaGxpZ2h0OiBmdW5jdGlvbiBoaWdobGlnaHQodikgewogICAgICAvLyDlpoLkvZXliqjmgIHnmoTkvb/nlKjmraPliJnooajovr7lvI/vvJ8KICAgICAgdmFyIHJlZyA9IG5ldyBSZWdFeHAodGhpcy5zZWFyY2hUZXh0LCAnZ2knKTsgLy8g77yIdjHvvIx2Mu+8iSAgdjE96KKr5pu/5o2iICAgdjI96KaB5pu/5o2i5oiQCgogICAgICByZXR1cm4gdi5yZXBsYWNlKHJlZywgIjxzcGFuIGNsYXNzPVwiYWN0aXZlXCI+Ii5jb25jYXQodGhpcy5zZWFyY2hUZXh0LCAiPC9zcGFuPiIpKTsKICAgIH0KICB9LAogIC8vIOebkeWQrOWxnuaAp+eahOS9v+eUqAogIHdhdGNoOiB7CiAgICBzZWFyY2hUZXh0OiB7CiAgICAgIC8vIOiuvue9rumYsuaKlu+8jGRlYm91bmNlCiAgICAgIC8vIOesrOS4gOS4quWPguaVsOaYr+S4gOS4quWHveaVsAogICAgICAvLyDnrKzkuozkuKrlj4LmlbDmmK/kuIDkuKrlu7bov5/ml7bpl7TvvIzlj6ropoHlho3op6blj5HlsLHkvJrlho3lu7bov5/ov5nkuYjlpJrml7bpl7QKICAgICAgaGFuZGxlcjogZGVib3VuY2UoZnVuY3Rpb24gKHYpIHsKICAgICAgICB0aGlzLmdldEFkdmljZSgpOwogICAgICB9LCAyMDApLAogICAgICAvLyDph43opoHvvIHvvIHvvIEKICAgICAgLy8g57uE5Lu26L+Y5rKh5riy5p+T5Ye65p2l5bCx55uR5ZCsCiAgICAgIGltbWVkaWF0ZTogdHJ1ZQogICAgfQogIH0KfTs="},{"version":3,"sources":["SearchAdvice.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAeA,SAAA,QAAA,QAAA,QAAA;AAEA,eAAA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,UAAA,EAAA;AACA,MAAA,OAAA,EAAA,IADA;AAEA,MAAA,IAAA,EAAA;AAFA;AADA,GADA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,UAAA,EAAA;AADA,KAAA;AAGA,GAXA;AAYA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,uBACA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,MAAA,CAAA,GAAA,CAAA,iBAAA,EAAA;AACA,kBAAA,MAAA,EAAA;AACA,oBAAA,CAAA,EAAA,KAAA,CAAA;AADA;AADA,iBAAA,CADA;;AAAA;AAAA;AACA,gBAAA,GADA,yBACA,IADA;AAOA,gBAAA,KAAA,CAAA,UAAA,GAAA,GAAA,CAAA,IAAA,CAAA,OAAA;;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA,KATA;AAUA,IAAA,SAVA,qBAUA,CAVA,EAUA;AACA;AACA,UAAA,GAAA,GAAA,IAAA,MAAA,CAAA,KAAA,UAAA,EAAA,IAAA,CAAA,CAFA,CAGA;;AACA,aAAA,CAAA,CAAA,OAAA,CAAA,GAAA,mCAAA,KAAA,UAAA,aAAA;AACA;AAfA,GAZA;AA6BA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,UAAA,EAAA;AACA;AACA;AACA;AACA,MAAA,OAAA,EAAA,QAAA,CAAA,UAAA,CAAA,EAAA;AACA,aAAA,SAAA;AACA,OAFA,EAEA,GAFA,CAJA;AAOA;AACA;AACA,MAAA,SAAA,EAAA;AATA;AADA;AA9BA,CAAA","sourcesContent":["<template>\n  <div>\n    <van-cell\n      v-for=\"(v, index) in adviceList\"\n      :key=\"index\"\n      @click=\"$emit('search', v)\"\n      icon=\"search\"\n      clickable\n    >\n      <span slot=\"title\" v-html=\"highlight(v)\"></span>\n    </van-cell>\n  </div>\n</template>\n\n<script>\nimport { debounce } from 'lodash'\n\nexport default {\n  props: {\n    searchText: {\n      require: true,\n      type: String\n    }\n  },\n  data() {\n    return {\n      adviceList: []\n    }\n  },\n  methods: {\n    async getAdvice() {\n      const { data: res } = await this.$axios.get('v1_0/suggestion', {\n        params: {\n          q: this.searchText\n        }\n      })\n\n      this.adviceList = res.data.options\n    },\n    highlight(v) {\n      // 如何动态的使用正则表达式？\n      const reg = new RegExp(this.searchText, 'gi')\n      // （v1，v2）  v1=被替换   v2=要替换成\n      return v.replace(reg, `<span class=\"active\">${this.searchText}</span>`)\n    }\n  },\n  // 监听属性的使用\n  watch: {\n    searchText: {\n      // 设置防抖，debounce\n      // 第一个参数是一个函数\n      // 第二个参数是一个延迟时间，只要再触发就会再延迟这么多时间\n      handler: debounce(function (v) {\n        this.getAdvice()\n      }, 200),\n      // 重要！！！\n      // 组件还没渲染出来就监听\n      immediate: true\n    }\n  }\n}\n</script>\n<style lang=\"less\" scoped>\n/deep/ span .active {\n  color: rgb(32, 156, 240) !important;\n}\n</style>\n"],"sourceRoot":"src/views/search/components"}]}