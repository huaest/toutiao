{"remainingRequest":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/babel-loader/lib/index.js!/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yanmaohua/Desktop/toutiao/toutiao/src/views/home/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/src/views/home/index.vue","mtime":1632212079622},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy95YW5tYW9odWEvRGVza3RvcC90b3V0aWFvL3RvdXRpYW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMveWFubWFvaHVhL0Rlc2t0b3AvdG91dGlhby90b3V0aWFvL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBnZXRJdGVtIH0gZnJvbSAnQC91dGlscy9zdG9yYWdlLmpzJzsKaW1wb3J0IFBvcFVwIGZyb20gJy4vY29tcG9uZW50cy9Qb3BvVXAudnVlJzsKaW1wb3J0IEFydGljbGVMaXN0IGZyb20gJy4vY29tcG9uZW50cy9BcnRpY2xlTGlzdC52dWUnOwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFjdGl2ZTogMCwKICAgICAgY2hhbm5lbHM6IFtdLAogICAgICBzaG93OiBmYWxzZQogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIEFydGljbGVMaXN0OiBBcnRpY2xlTGlzdCwKICAgIFBvcFVwOiBQb3BVcAogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKFsndXNlciddKSksCiAgbWV0aG9kczogewogICAgZ2V0Q2hhbm5lbHM6IGZ1bmN0aW9uIGdldENoYW5uZWxzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgX3lpZWxkJF90aGlzJCRheGlvcyRnLCByZXM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMudXNlcikgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJGF4aW9zLmdldCgnL3YxXzAvdXNlci9jaGFubmVscycpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBfeWllbGQkX3RoaXMkJGF4aW9zJGcgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgcmVzID0gX3lpZWxkJF90aGlzJCRheGlvcyRnLmRhdGE7CiAgICAgICAgICAgICAgICBfdGhpcy5jaGFubmVscyA9IHJlcy5kYXRhLmNoYW5uZWxzOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA5OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgxKTsKCiAgICAgICAgICAgICAgICBfdGhpcy4kdG9hc3QuZmFpbCgn6I635Y+W5paH56ug5YiX6KGo5aSx6LSlJyk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIF90aGlzLmNoYW5uZWxzID0gZ2V0SXRlbSgnbG9jYWwtY2hhbm5lbCcpOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1sxLCA5XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjaGFubmVsQ2hhbmdlOiBmdW5jdGlvbiBjaGFubmVsQ2hhbmdlKGluZGV4KSB7CiAgICAgIHZhciBpc1Nob3cgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRydWU7CiAgICAgIHRoaXMuYWN0aXZlID0gaW5kZXg7CiAgICAgIHRoaXMuc2hvdyA9IGlzU2hvdzsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldENoYW5uZWxzKCk7CiAgfQp9Ow=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA,SAAA,OAAA,QAAA,oBAAA;AACA,OAAA,KAAA,MAAA,yBAAA;AACA,OAAA,WAAA,MAAA,8BAAA;AACA,SAAA,QAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,CADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,IAAA,EAAA;AAHA,KAAA;AAKA,GAPA;AAQA,EAAA,UAAA,EAAA;AACA,IAAA,WAAA,EAAA,WADA;AAEA,IAAA,KAAA,EAAA;AAFA,GARA;AAYA,EAAA,QAAA,oBACA,QAAA,CAAA,CAAA,MAAA,CAAA,CADA,CAZA;AAeA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEA,KAAA,CAAA,IAFA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,uBAIA,KAAA,CAAA,MAAA,CAAA,GAAA,CAAA,qBAAA,CAJA;;AAAA;AAAA;AAIA,gBAAA,GAJA,yBAIA,IAJA;AAKA,gBAAA,KAAA,CAAA,QAAA,GAAA,GAAA,CAAA,IAAA,CAAA,QAAA;AALA;AAAA;;AAAA;AAAA;AAAA;;AAOA,gBAAA,KAAA,CAAA,MAAA,CAAA,IAAA,CAAA,UAAA;;AAPA;AAAA;AAAA;;AAAA;AAUA,gBAAA,KAAA,CAAA,QAAA,GAAA,OAAA,CAAA,eAAA,CAAA;;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA,KAbA;AAcA,IAAA,aAdA,yBAcA,KAdA,EAcA;AAAA,UAAA,MAAA,uEAAA,IAAA;AACA,WAAA,MAAA,GAAA,KAAA;AACA,WAAA,IAAA,GAAA,MAAA;AACA;AAjBA,GAfA;AAkCA,EAAA,OAlCA,qBAkCA;AACA,SAAA,WAAA;AACA;AApCA,CAAA","sourcesContent":["<template>\n  <div class=\"home-container\">\n    <!-- 搜索区域 -->\n    <van-nav-bar fixed>\n      <van-button\n        class=\"sear-btn\"\n        slot=\"title\"\n        type=\"info\"\n        size=\"small\"\n        round\n        icon=\"search\"\n        to=\"/search\"\n      >\n        搜索</van-button\n      >\n    </van-nav-bar>\n\n    <!-- tab页 -->\n    <!-- 只能在有内容的地方滑动 -->\n    <van-tabs v-model=\"active\" border animated swipeable>\n      <van-tab :title=\"v.name\" v-for=\"v in channels\" :key=\"v.id\">\n        <!-- 组件化开发！ -->\n        <article-list :channel=\"v\"></article-list>\n      </van-tab>\n      <div slot=\"nav-right\" class=\"place\"></div>\n      <div slot=\"nav-right\" class=\"ham-btn\">\n        <i class=\"iconfont icon-gengduo\" @click=\"show = true\"></i>\n      </div>\n    </van-tabs>\n    <!-- 弹出层！ -->\n    <van-popup\n      v-model=\"show\"\n      closeable\n      position=\"bottom\"\n      :style=\"{ height: '100%' }\"\n      close-icon-position=\"top-left\"\n    >\n      <pop-up\n        :channels=\"channels\"\n        :active=\"active\"\n        @channel-change=\"channelChange\"\n      ></pop-up>\n    </van-popup>\n  </div>\n</template>\n\n<script>\nimport { getItem } from '@/utils/storage.js'\nimport PopUp from './components/PopoUp.vue'\nimport ArticleList from './components/ArticleList.vue'\nimport { mapState } from 'vuex'\nexport default {\n  data() {\n    return {\n      active: 0,\n      channels: [],\n      show: false\n    }\n  },\n  components: {\n    ArticleList,\n    PopUp\n  },\n  computed: {\n    ...mapState(['user'])\n  },\n  methods: {\n    async getChannels() {\n      // 获取文章列表\n      if (this.user) {\n        try {\n          const { data: res } = await this.$axios.get('/v1_0/user/channels')\n          this.channels = res.data.channels\n        } catch (err) {\n          this.$toast.fail('获取文章列表失败')\n        }\n      } else {\n        this.channels = getItem('local-channel')\n      }\n    },\n    channelChange(index, isShow = true) {\n      this.active = index\n      this.show = isShow\n    }\n  },\n  created() {\n    this.getChannels()\n  }\n}\n</script>\nß\n<style lang=\"less\" >\n.van-ellipsis {\n  max-width: unset !important;\n}\n.sear-btn {\n  border: none;\n  background-color: rgb(70, 157, 255);\n  color: white !important;\n  width: 555px;\n  height: 64px;\n  line-height: 64px;\n  font-size: 28px;\n  .van-icon {\n    color: white;\n    font-size: 32px;\n  }\n}\n// 如果修改后样式改变，可以查看修改前的代码\n.van-tabs__wrap {\n  position: fixed;\n  z-index: 1;\n  left: 0;\n  right: 0;\n  top: 90px;\n  height: 82px;\n  .van-tab {\n    font-size: 30px;\n    min-width: 200px;\n  }\n  .van-tabs__nav {\n    padding-bottom: none !important;\n  }\n  .van-tabs__line {\n    width: 31px !important;\n    height: 6px !important;\n    background-color: rgb(43, 113, 243) !important;\n  }\n  .van-tab--active {\n    color: rgb(99, 102, 233);\n  }\n  .place {\n    width: 66px;\n    height: 82px;\n    flex-shrink: 0;\n  }\n  .ham-btn {\n    position: fixed;\n    right: 0;\n    width: 66px;\n    height: 82px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: #fff;\n    opacity: 0.902;\n    border-left: 1px solid #ccc;\n\n    i.iconfont {\n      font-size: 33px;\n    }\n  }\n}\n.home-container {\n  padding-top: 174px;\n  padding-bottom: 100px;\n}\n</style>\n"],"sourceRoot":"src/views/home"}]}