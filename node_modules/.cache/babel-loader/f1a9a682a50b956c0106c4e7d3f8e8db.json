{"remainingRequest":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/babel-loader/lib/index.js!/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yanmaohua/Desktop/toutiao/toutiao/src/views/userInfo/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/src/views/userInfo/index.vue","mtime":1632474947909},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy95YW5tYW9odWEvRGVza3RvcC90b3V0aWFvL3RvdXRpYW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgVXBkYXRlTmFtZSBmcm9tICcuL2NvbXBvbmVudHMvVXBkYXRlTmFtZS52dWUnOwppbXBvcnQgVXBkYXRlR2VuZGVyIGZyb20gJ0Avdmlld3MvdXNlckluZm8vY29tcG9uZW50cy9VcGRhdGVHZW5kZXInOwppbXBvcnQgVXBkYXRlQmlyIGZyb20gJ0Avdmlld3MvdXNlckluZm8vY29tcG9uZW50cy9VcGRhdGVCaXInOwppbXBvcnQgVXBkYXRlSW1nIGZyb20gJ0Avdmlld3MvdXNlckluZm8vY29tcG9uZW50cy9VcGRhdGVJbWcnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXI6IHt9LAogICAgICBuYW1lU2hvdzogZmFsc2UsCiAgICAgIGdlbmRlclNob3c6IGZhbHNlLAogICAgICBiaXJTaG93OiBmYWxzZSwKICAgICAgaW1nU2hvdzogZmFsc2UsCiAgICAgIGltZzogJycKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBVcGRhdGVOYW1lOiBVcGRhdGVOYW1lLAogICAgVXBkYXRlR2VuZGVyOiBVcGRhdGVHZW5kZXIsCiAgICBVcGRhdGVCaXI6IFVwZGF0ZUJpciwKICAgIFVwZGF0ZUltZzogVXBkYXRlSW1nCiAgfSwKICBtZXRob2RzOiB7CiAgICBvbkNsaWNrTGVmdDogZnVuY3Rpb24gb25DbGlja0xlZnQoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5iYWNrKCk7CiAgICB9LAogICAgZ2V0SW5mbzogZnVuY3Rpb24gZ2V0SW5mbygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF95aWVsZCRfdGhpcyQkYXhpb3MkZywgcmVzOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kYXhpb3MuZ2V0KCd2MV8wL3VzZXIvcHJvZmlsZScpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfeWllbGQkX3RoaXMkJGF4aW9zJGcgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgcmVzID0gX3lpZWxkJF90aGlzJCRheGlvcyRnLmRhdGE7CiAgICAgICAgICAgICAgICBfdGhpcy51c2VyID0gcmVzLmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjaGFuZ2VOYW1lOiBmdW5jdGlvbiBjaGFuZ2VOYW1lKHZhbCkgewogICAgICB0aGlzLm5hbWVTaG93ID0gZmFsc2U7CiAgICAgIHRoaXMudXNlci5uYW1lID0gdmFsOwogICAgfSwKICAgIGNoYW5nZUdlbmRlcjogZnVuY3Rpb24gY2hhbmdlR2VuZGVyKHZhbCkgewogICAgICB0aGlzLmdlbmRlclNob3cgPSBmYWxzZTsKICAgICAgdGhpcy51c2VyLmdlbmRlciA9IHZhbDsKICAgIH0sCiAgICBjaGFuZ2VCaXI6IGZ1bmN0aW9uIGNoYW5nZUJpcih2YWwpIHsKICAgICAgdGhpcy51c2VyLmJpcnRoZGF5ID0gdmFsOwogICAgICB0aGlzLmJpclNob3cgPSBmYWxzZTsKICAgIH0sCiAgICBvbkZpbGVDaGFuZ2U6IGZ1bmN0aW9uIG9uRmlsZUNoYW5nZSgpIHsKICAgICAgdmFyIGZpbGUgPSB0aGlzLiRyZWZzLmZpbGUuZmlsZXNbMF07CiAgICAgIHZhciBkYXRhID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7CiAgICAgIHRoaXMuaW1nU2hvdyA9IHRydWU7IC8vICAg5riF56m65omN6IO95Ye65Y+RY2hhbmdl5LqL5Lu2CgogICAgICB0aGlzLiRyZWZzLmZpbGUudmFsdWUgPSAnJzsKICAgICAgdGhpcy5pbWcgPSBkYXRhOwogICAgfSwKICAgIGNoYW5nZUltZzogZnVuY3Rpb24gY2hhbmdlSW1nKHZhbCkgewogICAgICB0aGlzLmltZyA9IHZhbDsKICAgICAgdGhpcy5pbWdTaG93ID0gZmFsc2U7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRJbmZvKCk7CiAgfQp9Ow=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0EA,OAAA,UAAA,MAAA,6BAAA;AACA,OAAA,YAAA,MAAA,0CAAA;AACA,OAAA,SAAA,MAAA,uCAAA;AACA,OAAA,SAAA,MAAA,uCAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,KAFA;AAGA,MAAA,UAAA,EAAA,KAHA;AAIA,MAAA,OAAA,EAAA,KAJA;AAKA,MAAA,OAAA,EAAA,KALA;AAMA,MAAA,GAAA,EAAA;AANA,KAAA;AAQA,GAVA;AAWA,EAAA,UAAA,EAAA;AACA,IAAA,UAAA,EAAA,UADA;AAEA,IAAA,YAAA,EAAA,YAFA;AAGA,IAAA,SAAA,EAAA,SAHA;AAIA,IAAA,SAAA,EAAA;AAJA,GAXA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AACA,WAAA,OAAA,CAAA,IAAA;AACA,KAHA;AAIA,IAAA,OAJA,qBAIA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,MAAA,CAAA,GAAA,CAAA,mBAAA,CADA;;AAAA;AAAA;AACA,gBAAA,GADA,yBACA,IADA;AAEA,gBAAA,KAAA,CAAA,IAAA,GAAA,GAAA,CAAA,IAAA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA,KAPA;AAQA,IAAA,UARA,sBAQA,GARA,EAQA;AACA,WAAA,QAAA,GAAA,KAAA;AACA,WAAA,IAAA,CAAA,IAAA,GAAA,GAAA;AACA,KAXA;AAYA,IAAA,YAZA,wBAYA,GAZA,EAYA;AACA,WAAA,UAAA,GAAA,KAAA;AACA,WAAA,IAAA,CAAA,MAAA,GAAA,GAAA;AACA,KAfA;AAgBA,IAAA,SAhBA,qBAgBA,GAhBA,EAgBA;AACA,WAAA,IAAA,CAAA,QAAA,GAAA,GAAA;AACA,WAAA,OAAA,GAAA,KAAA;AACA,KAnBA;AAoBA,IAAA,YApBA,0BAoBA;AACA,UAAA,IAAA,GAAA,KAAA,KAAA,CAAA,IAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,UAAA,IAAA,GAAA,MAAA,CAAA,GAAA,CAAA,eAAA,CAAA,IAAA,CAAA;AACA,WAAA,OAAA,GAAA,IAAA,CAHA,CAIA;;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,KAAA,GAAA,EAAA;AACA,WAAA,GAAA,GAAA,IAAA;AACA,KA3BA;AA4BA,IAAA,SA5BA,qBA4BA,GA5BA,EA4BA;AACA,WAAA,GAAA,GAAA,GAAA;AACA,WAAA,OAAA,GAAA,KAAA;AACA;AA/BA,GAjBA;AAkDA,EAAA,OAlDA,qBAkDA;AACA,SAAA,OAAA;AACA;AApDA,CAAA","sourcesContent":["<template>\n  <div>\n    <van-nav-bar title=\"标题\" left-arrow @click-left=\"onClickLeft\" />\n    <input type=\"file\" ref=\"file\" hidden @change=\"onFileChange\" />\n    <van-popup\n      v-if=\"imgShow\"\n      v-model=\"imgShow\"\n      position=\"bottom\"\n      :style=\"{ height: '100%' }\"\n    >\n      <update-img :img=\"img\" @changeImg=\"changeImg\" @closeImg=\"img\"></update-img>\n    </van-popup>\n    <van-cell title=\"头像\" is-link @click=\"$refs.file.click()\">\n      <van-image class=\"avatar\" fit=\"cover\" round :src=\"user.photo\">\n      </van-image>\n    </van-cell>\n    <van-cell\n      title=\"昵称\"\n      @click=\"nameShow = true\"\n      :value=\"user.name\"\n      is-link\n    ></van-cell>\n    <van-popup\n      v-if=\"nameShow\"\n      v-model=\"nameShow\"\n      position=\"bottom\"\n      :style=\"{ height: '100%' }\"\n    >\n      <update-name\n        v-model=\"user.name\"\n        @closePop=\"nameShow = false\"\n        @changeName=\"changeName\"\n      ></update-name>\n    </van-popup>\n    <van-cell\n      title=\"性别\"\n      :value=\"user.gender === 1 ? '女' : '男'\"\n      @click=\"genderShow = true\"\n      is-link\n    ></van-cell>\n    <van-popup\n      v-if=\"genderShow\"\n      v-model=\"genderShow\"\n      position=\"bottom\"\n      :style=\"{ height: '40%' }\"\n    >\n      <update-gender\n        :gender=\"user.gender\"\n        @closeGender=\"genderShow = false\"\n        @changeGender=\"changeGender\"\n      ></update-gender>\n    </van-popup>\n    <van-cell\n      title=\"生日\"\n      :value=\"user.birthday\"\n      @click=\"birShow = true\"\n      is-link\n    ></van-cell>\n    <van-popup\n      v-if=\"birShow\"\n      v-model=\"birShow\"\n      position=\"bottom\"\n      :style=\"{ height: '50%' }\"\n    >\n      <update-bir\n        :bir=\"user.birthday\"\n        @closeBir=\"birShow = false\"\n        @changeBir=\"changeBir\"\n      ></update-bir>\n    </van-popup>\n  </div>\n</template>\n\n<script>\nimport UpdateName from './components/UpdateName.vue'\nimport UpdateGender from '@/views/userInfo/components/UpdateGender'\nimport UpdateBir from '@/views/userInfo/components/UpdateBir'\nimport UpdateImg from '@/views/userInfo/components/UpdateImg'\nexport default {\n  data() {\n    return {\n      user: {},\n      nameShow: false,\n      genderShow: false,\n      birShow: false,\n      imgShow: false,\n      img: ''\n    }\n  },\n  components: {\n    UpdateName,\n    UpdateGender,\n    UpdateBir,\n    UpdateImg\n  },\n  methods: {\n    onClickLeft() {\n      this.$router.back()\n    },\n    async getInfo() {\n      const { data: res } = await this.$axios.get('v1_0/user/profile')\n      this.user = res.data\n    },\n    changeName(val) {\n      this.nameShow = false\n      this.user.name = val\n    },\n    changeGender(val) {\n      this.genderShow = false\n      this.user.gender = val\n    },\n    changeBir(val) {\n      this.user.birthday = val\n      this.birShow = false\n    },\n    onFileChange() {\n      const file = this.$refs.file.files[0]\n      const data = window.URL.createObjectURL(file)\n      this.imgShow = true\n      //   清空才能出发change事件\n      this.$refs.file.value = ''\n      this.img = data\n    },\n    changeImg(val) {\n      this.img = val\n      this.imgShow = false\n    }\n  },\n  created() {\n    this.getInfo()\n  }\n}\n</script>\n\n<style>\n.avatar {\n  width: 70px;\n  height: 70px;\n}\n.van-popup {\n  background-color: #f5f7f9;\n}\n</style>\n"],"sourceRoot":"src/views/userInfo"}]}