{"remainingRequest":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/thread-loader/dist/cjs.js!/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/babel-loader/lib/index.js!/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/eslint-loader/index.js??ref--13-0!/Users/yanmaohua/Desktop/toutiao/toutiao/src/utils/request.js","dependencies":[{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/src/utils/request.js","mtime":1632296708433},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOwppbXBvcnQganNvbkJpZyBmcm9tICdqc29uLWJpZ2ludCc7ClZ1ZS5wcm90b3R5cGUuJGF4aW9zID0gYXhpb3M7IC8vIOmFjee9ruivt+axgueahOaguei3r+W+hAoKYXhpb3MuZGVmYXVsdHMuYmFzZVVSTCA9ICdodHRwOi8vdG91dGlhby1hcHAuaXRoZWltYS5uZXQvJzsKYXhpb3MuZGVmYXVsdHMudHJhbnNmb3JtUmVzcG9uc2UgPSBbZnVuY3Rpb24gKGRhdGEpIHsKICB0cnkgewogICAgLy8g5aaC5p6c6L2s5o2i5oiQ5Yqf5YiZ6L+U5Zue6L2s5o2i55qE5pWw5o2u57uT5p6cCiAgICByZXR1cm4ganNvbkJpZy5wYXJzZShkYXRhKTsKICB9IGNhdGNoIChlcnIpIHsKICAgIC8vIOWmguaenOi9rOaNouWksei0pe+8jOWImeWMheijheS4uue7n+S4gOaVsOaNruagvOW8j+W5tui/lOWbngogICAgcmV0dXJuIHsKICAgICAgZGF0YTogZGF0YQogICAgfTsKICB9Cn1dOwpheGlvcy5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogIHZhciB1c2VyID0gc3RvcmUuc3RhdGUudXNlcjsgLy8g5pWw5o2u5b+F6aG76KaB5a2Y5Zyo77yM5ZCm5YiZ5oql6ZSZCgogIGlmICh1c2VyICYmIHVzZXIudG9rZW4pIHsKICAgIGNvbmZpZy5oZWFkZXJzLkF1dGhvcml6YXRpb24gPSAiQmVhcmVyICIuY29uY2F0KHVzZXIudG9rZW4pOwogIH0gLy8gLy8g5Yqh5b+F6KaB6L+U5ZueCgoKICByZXR1cm4gY29uZmlnOwp9LCBmdW5jdGlvbiAoZXJyKSB7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7Cn0pOw=="},{"version":3,"sources":["/Users/yanmaohua/Desktop/toutiao/toutiao/src/utils/request.js"],"names":["axios","Vue","store","jsonBig","prototype","$axios","defaults","baseURL","transformResponse","data","parse","err","interceptors","request","use","config","user","state","token","headers","Authorization","Promise","reject"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,KAAhB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,OAAP,MAAoB,aAApB;AAEAF,GAAG,CAACG,SAAJ,CAAcC,MAAd,GAAuBL,KAAvB,C,CACA;;AACAA,KAAK,CAACM,QAAN,CAAeC,OAAf,GAAyB,iCAAzB;AACAP,KAAK,CAACM,QAAN,CAAeE,iBAAf,GAAmC,CACjC,UAASC,IAAT,EAAe;AACb,MAAI;AACF;AACA,WAAON,OAAO,CAACO,KAAR,CAAcD,IAAd,CAAP;AACD,GAHD,CAGE,OAAOE,GAAP,EAAY;AACZ;AACA,WAAO;AACLF,MAAAA,IAAI,EAAJA;AADK,KAAP;AAGD;AACF,CAXgC,CAAnC;AAaAT,KAAK,CAACY,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CACE,UAASC,MAAT,EAAiB;AACf,MAAQC,IAAR,GAAiBd,KAAK,CAACe,KAAvB,CAAQD,IAAR,CADe,CAEf;;AACA,MAAIA,IAAI,IAAIA,IAAI,CAACE,KAAjB,EAAwB;AACtBH,IAAAA,MAAM,CAACI,OAAP,CAAeC,aAAf,oBAAyCJ,IAAI,CAACE,KAA9C;AACD,GALc,CAMf;;;AACA,SAAOH,MAAP;AACD,CATH,EAUE,UAASJ,GAAT,EAAc;AACZ,SAAOU,OAAO,CAACC,MAAR,CAAeX,GAAf,CAAP;AACD,CAZH","sourcesContent":["import axios from 'axios'\nimport Vue from 'vue'\nimport store from '@/store'\nimport jsonBig from 'json-bigint'\n\nVue.prototype.$axios = axios\n// 配置请求的根路径\naxios.defaults.baseURL = 'http://toutiao-app.itheima.net/'\naxios.defaults.transformResponse = [\n  function(data) {\n    try {\n      // 如果转换成功则返回转换的数据结果\n      return jsonBig.parse(data)\n    } catch (err) {\n      // 如果转换失败，则包装为统一数据格式并返回\n      return {\n        data\n      }\n    }\n  }\n]\naxios.interceptors.request.use(\n  function(config) {\n    const { user } = store.state\n    // 数据必须要存在，否则报错\n    if (user && user.token) {\n      config.headers.Authorization = `Bearer ${user.token}`\n    }\n    // // 务必要返回\n    return config\n  },\n  function(err) {\n    return Promise.reject(err)\n  }\n)\n"]}]}