{"remainingRequest":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/thread-loader/dist/cjs.js!/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/babel-loader/lib/index.js!/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yanmaohua/Desktop/toutiao/toutiao/src/views/home/components/PopoUp.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/src/views/home/components/PopoUp.vue","mtime":1632296836352},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy95YW5tYW9odWEvRGVza3RvcC90b3V0aWFvL3RvdXRpYW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMveWFubWFvaHVhL0Rlc2t0b3AvdG91dGlhby90b3V0aWFvL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgc2V0SXRlbSB9IGZyb20gJ0AvdXRpbHMvc3RvcmFnZS5qcyc7CmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWxsQ2hhbm5lbHM6IFtdLAogICAgICBpc0VkaXQ6IGZhbHNlLAogICAgICBmaXhDaGFubmVsczogWzBdCiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIGNoYW5uZWxzOiB7CiAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICB0eXBlOiBBcnJheQogICAgfSwKICAgIGFjdGl2ZTogewogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgdHlwZTogTnVtYmVyCiAgICB9CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZShbJ3VzZXInXSkpLCB7fSwgewogICAgLy8gICDlm6DkuLropoHml7bliLvnm5HlkKznlKjmiLfnmoTpgInmi6nvvIzmiYDku6XopoHnlKjorqHnrpflsZ7mgKfvvIHvvIHvvIEKICAgIGNvbXB1dGVDaGFubmVsczogZnVuY3Rpb24gY29tcHV0ZUNoYW5uZWxzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIG5ld0NoYW5uZWxzID0gW107CiAgICAgIHRoaXMuYWxsQ2hhbm5lbHMuZm9yRWFjaChmdW5jdGlvbiAoY2hhbm5lbCkgewogICAgICAgIC8vICAg5om+5Yiw56ym5ZCI5p2h5Lu255qE5YWD57SgCiAgICAgICAgdmFyIHJlcyA9IF90aGlzLmNoYW5uZWxzLmZpbmQoZnVuY3Rpb24gKG15KSB7CiAgICAgICAgICByZXR1cm4gbXkuaWQgPT09IGNoYW5uZWwuaWQ7CiAgICAgICAgfSk7CgogICAgICAgIGlmICghcmVzKSB7CiAgICAgICAgICBuZXdDaGFubmVscy5wdXNoKGNoYW5uZWwpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiBuZXdDaGFubmVsczsKICAgIH0KICB9KSwKICBtZXRob2RzOiB7CiAgICAvLyAgIOaJgOaciemikemBk+ivt+axguaooeWdlwogICAgZ2V0Q2hhbm5lbHM6IGZ1bmN0aW9uIGdldENoYW5uZWxzKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF95aWVsZCRfdGhpczIkJGF4aW9zJCwgcmVzOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kYXhpb3MuZ2V0KCd2MV8wL2NoYW5uZWxzJyk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF95aWVsZCRfdGhpczIkJGF4aW9zJCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICByZXMgPSBfeWllbGQkX3RoaXMyJCRheGlvcyQuZGF0YTsKICAgICAgICAgICAgICAgIF90aGlzMi5hbGxDaGFubmVscyA9IHJlcy5kYXRhLmNoYW5uZWxzOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA4OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgwKTsKCiAgICAgICAgICAgICAgICBfdGhpczIuJHRvYXN0LmZhaWwoJ+iOt+WPluWIl+ihqOWksei0pScpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1swLCA4XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBhZGRJdGVtOiBmdW5jdGlvbiBhZGRJdGVtKGl0ZW0pIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMzLmlzRWRpdCA9PT0gdHJ1ZSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMzLmNoYW5uZWxzLnB1c2goaXRlbSk7CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczMudXNlcikgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDM7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLiRheGlvcy5wYXRjaCgndjFfMC91c2VyL2NoYW5uZWxzJywgewogICAgICAgICAgICAgICAgICBjaGFubmVsczogW3sKICAgICAgICAgICAgICAgICAgICBpZDogaXRlbS5pZCwKICAgICAgICAgICAgICAgICAgICBzZXE6IF90aGlzMy5jaGFubmVscy5sZW5ndGgKICAgICAgICAgICAgICAgICAgfV0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDExOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gODsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgzKTsKCiAgICAgICAgICAgICAgICBfdGhpczMuJHRvYXN0LmZhaWwoJ+aVsOaNruS/neWtmOWksei0pSzor7fnlKjmtY/op4jlmajorr/pl67vvIEnKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIHNldEl0ZW0oJ2xvY2FsLWNoYW5uZWwnLCBfdGhpczMuY2hhbm5lbHMpOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzMsIDhdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGVkaXQ6IGZ1bmN0aW9uIGVkaXQoKSB7CiAgICAgIHRoaXMuaXNFZGl0ID0gIXRoaXMuaXNFZGl0OwogICAgfSwKICAgIC8vIOWPqumAgueUqOS6jueItuWtkOe7hOS7tuS8oOWAvO+8ge+8gQogICAgY2hhbmdlQ2hhbm5lbDogZnVuY3Rpb24gY2hhbmdlQ2hhbm5lbChjaGFubmVsLCBpbmRleCkgewogICAgICBpZiAoIXRoaXMuaXNFZGl0KSB7CiAgICAgICAgdGhpcy4kZW1pdCgnY2hhbm5lbC1jaGFuZ2UnLCBpbmRleCwgZmFsc2UpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vICAg5Zu65a6a5LiN6IO95Yig6Zmk55qE5pWw5o2uCiAgICAgICAgaWYgKHRoaXMuZml4Q2hhbm5lbHMuaW5jbHVkZXMoY2hhbm5lbC5pZCkpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGlmIChpbmRleCA8PSB0aGlzLmFjdGl2ZSkgewogICAgICAgICAgdGhpcy4kZW1pdCgnY2hhbm5lbC1jaGFuZ2UnLCB0aGlzLmFjdGl2ZSAtIDEsIHRydWUpOwogICAgICAgIH0gLy8g5pWw57uE55qE5Yig6Zmk5pON5L2c77yM5piv5a+55Y6f5pWw57uE55qE5pON5L2c77yB77yB77yBCgoKICAgICAgICB0aGlzLmNoYW5uZWxzLnNwbGljZShpbmRleCwgMSk7CgogICAgICAgIGlmICh0aGlzLnVzZXIpIHsKICAgICAgICAgIHRoaXMuZGVsZXRlQ2hhbm5lbChjaGFubmVsKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgc2V0SXRlbSgnbG9jYWwtY2hhbm5lbCcsIHRoaXMuY2hhbm5lbHMpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGRlbGV0ZUNoYW5uZWw6IGZ1bmN0aW9uIGRlbGV0ZUNoYW5uZWwoY2hhbm5lbCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIV90aGlzNC51c2VyKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczQuJGF4aW9zLmRlbGV0ZSgidjFfMC91c2VyL2NoYW5uZWxzLyIuY29uY2F0KGNoYW5uZWwuaWQpKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA5OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gNjsKICAgICAgICAgICAgICAgIF9jb250ZXh0My50MCA9IF9jb250ZXh0M1siY2F0Y2giXSgxKTsKCiAgICAgICAgICAgICAgICBfdGhpczQuJHRvYXN0LmZhaWwoJ+aVsOaNruWtmOWCqOWksei0pScpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDExOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMsIG51bGwsIFtbMSwgNl1dKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRDaGFubmVscygpOwogIH0KfTs="},{"version":3,"sources":["PopoUp.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"channel-edit\">\n    <van-cell class=\"cell\">\n      <div slot=\"title\">我的频道</div>\n      <van-button type=\"primary\" size=\"mini\" round @click=\"edit\">{{\n        isEdit ? '完成' : '编辑'\n      }}</van-button>\n    </van-cell>\n    <van-grid :gutter=\"10\" class=\"delete-edit\">\n      <van-grid-item\n        class=\"grid-item\"\n        v-for=\"(value, index) in channels\"\n        :key=\"index\"\n        icon=\"clear\"\n        @click=\"changeChannel(value, index)\"\n      >\n        <van-icon\n          slot=\"icon\"\n          name=\"clear\"\n          v-show=\"isEdit && !fixChannels.includes(value.id)\"\n        ></van-icon>\n        <span slot=\"text\" class=\"text\" :class=\"{ active: index === active }\">{{\n          value.name\n        }}</span>\n      </van-grid-item>\n    </van-grid>\n    <!-- 频道推荐 -->\n    <van-cell class=\"cell\">\n      <div slot=\"title\">频道推荐</div>\n    </van-cell>\n    <van-grid :gutter=\"10\" class=\"commend-edit\">\n      <van-grid-item\n        class=\"grid-item\"\n        v-for=\"(value, i) in computeChannels\"\n        :key=\"i\"\n        :text=\"value.name\"\n        @click=\"addItem(value)\"\n      >\n        <van-icon slot=\"icon\" name=\"plus\" v-show=\"isEdit === true\"></van-icon>\n      </van-grid-item>\n    </van-grid>\n  </div>\n</template>\n\n<script>\nimport { setItem } from '@/utils/storage.js'\nimport { mapState } from 'vuex'\nexport default {\n  data() {\n    return {\n      allChannels: [],\n      isEdit: false,\n      fixChannels: [0]\n    }\n  },\n  props: {\n    channels: {\n      required: true,\n      type: Array\n    },\n    active: {\n      required: true,\n      type: Number\n    }\n  },\n  computed: {\n    ...mapState(['user']),\n    //   因为要时刻监听用户的选择，所以要用计算属性！！！\n    computeChannels() {\n      const newChannels = []\n      this.allChannels.forEach((channel) => {\n        //   找到符合条件的元素\n        const res = this.channels.find((my) => {\n          return my.id === channel.id\n        })\n        if (!res) {\n          newChannels.push(channel)\n        }\n      })\n      return newChannels\n    }\n  },\n  methods: {\n    //   所有频道请求模块\n    async getChannels() {\n      try {\n        const { data: res } = await this.$axios.get('v1_0/channels')\n        this.allChannels = res.data.channels\n      } catch (err) {\n        this.$toast.fail('获取列表失败')\n      }\n    },\n    async addItem(item) {\n      if (this.isEdit === true) {\n        this.channels.push(item)\n        if (this.user) {\n          try {\n            //   每添加一个发送请求\n            await this.$axios.patch('v1_0/user/channels', {\n              channels: [\n                {\n                  id: item.id,\n                  seq: this.channels.length\n                }\n              ]\n            })\n          } catch (err) {\n            this.$toast.fail('数据保存失败,请用浏览器访问！')\n          }\n        } else {\n          setItem('local-channel', this.channels)\n        }\n      }\n    },\n    edit() {\n      this.isEdit = !this.isEdit\n    },\n    // 只适用于父子组件传值！！\n    changeChannel(channel, index) {\n      if (!this.isEdit) {\n        this.$emit('channel-change', index, false)\n      } else {\n        //   固定不能删除的数据\n        if (this.fixChannels.includes(channel.id)) {\n          return\n        }\n        if (index <= this.active) {\n          this.$emit('channel-change', this.active - 1, true)\n        }\n        // 数组的删除操作，是对原数组的操作！！！\n        this.channels.splice(index, 1)\n        if (this.user) {\n          this.deleteChannel(channel)\n        } else {\n          setItem('local-channel', this.channels)\n        }\n      }\n    },\n    async deleteChannel(channel) {\n      if (this.user) {\n        try {\n          await this.$axios.delete(`v1_0/user/channels/${channel.id}`)\n        } catch (err) {\n          this.$toast.fail('数据存储失败')\n        }\n      } else {\n      }\n    }\n  },\n  created() {\n    this.getChannels()\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.channel-edit {\n  padding: 85px 0;\n}\n.delete-edit {\n  /deep/ .grid-item {\n    width: 160px;\n    height: 86px;\n    .van-grid-item__content {\n      white-space: nowrap;\n      background-color: #f4f5f6;\n      flex-direction: row;\n      font-size: 28px;\n      .van-grid-item__icon-wrapper {\n        position: unset;\n      }\n      .van-icon-clear {\n        position: absolute;\n        right: -10px;\n        top: -10px;\n        font-size: 30px;\n        z-index: 2;\n      }\n      .van-grid-item__text,\n      .text {\n        font-size: 25px;\n        margin-top: 10px;\n      }\n    }\n  }\n}\n.commend-edit {\n  /deep/ .grid-item {\n    width: 160px;\n    height: 86px;\n    .van-grid-item__content {\n      white-space: nowrap;\n      overflow: hidden;\n      background-color: #f4f5f6;\n      flex-direction: row;\n      font-size: 28px;\n      .van-icon {\n        font-size: 24px;\n      }\n      .van-grid-item__text {\n        margin-top: 10px;\n      }\n    }\n  }\n}\n\n.active {\n  color: red;\n}\n</style>\n"],"sourceRoot":"src/views/home/components"}]}