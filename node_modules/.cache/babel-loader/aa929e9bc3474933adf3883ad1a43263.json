{"remainingRequest":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/thread-loader/dist/cjs.js!/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/babel-loader/lib/index.js!/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yanmaohua/Desktop/toutiao/toutiao/src/views/article/components/CommentItem.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/src/views/article/components/CommentItem.vue","mtime":1632457326816},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanmaohua/Desktop/toutiao/toutiao/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy95YW5tYW9odWEvRGVza3RvcC90b3V0aWFvL3RvdXRpYW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgY29tbWVudDogewogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgdHllcDogT2JqZWN0CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9hZGluZzogZmFsc2UKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBhZGRMaWtlOiBmdW5jdGlvbiBhZGRMaWtlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxOwoKICAgICAgICAgICAgICAgIGlmIChfdGhpcy5jb21tZW50LmlzX2xpa2luZykgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gOTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJGF4aW9zLnBvc3QoJ3YxXzAvY29tbWVudC9saWtpbmdzJywgewogICAgICAgICAgICAgICAgICB0YXJnZXQ6IF90aGlzLmNvbW1lbnQuY29tX2lkCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX3RoaXMuY29tbWVudC5pc19saWtpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgX3RoaXMuY29tbWVudC5saWtlX2NvdW50Kys7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRheGlvcy5kZWxldGUoInYxXzAvY29tbWVudC9saWtpbmdzLyIuY29uY2F0KF90aGlzLmNvbW1lbnQuY29tX2lkKSk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfdGhpcy5jb21tZW50LmlzX2xpa2luZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgX3RoaXMuY29tbWVudC5saWtlX2NvdW50LS07CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxNTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMSk7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzEsIDE1XV0pOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["CommentItem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA,eAAA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,OAAA,EAAA;AACA,MAAA,QAAA,EAAA,IADA;AAEA,MAAA,IAAA,EAAA;AAFA;AADA,GADA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,OAAA,EAAA;AADA,KAAA;AAGA,GAXA;AAYA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,qBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,KAAA,CAAA,OAAA,GAAA,IAAA;AADA;;AAAA,oBAGA,KAAA,CAAA,OAAA,CAAA,SAHA;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAIA,KAAA,CAAA,MAAA,CAAA,IAAA,CAAA,sBAAA,EAAA;AACA,kBAAA,MAAA,EAAA,KAAA,CAAA,OAAA,CAAA;AADA,iBAAA,CAJA;;AAAA;AAOA,gBAAA,KAAA,CAAA,OAAA,CAAA,SAAA,GAAA,IAAA;AACA,gBAAA,KAAA,CAAA,OAAA,CAAA,UAAA;AARA;AAAA;;AAAA;AAAA;AAAA,uBAUA,KAAA,CAAA,MAAA,CAAA,MAAA,gCACA,KAAA,CAAA,OAAA,CAAA,MADA,EAVA;;AAAA;AAaA,gBAAA,KAAA,CAAA,OAAA,CAAA,SAAA,GAAA,KAAA;AACA,gBAAA,KAAA,CAAA,OAAA,CAAA,UAAA;;AAdA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAiBA,gBAAA,KAAA,CAAA,OAAA,GAAA,KAAA;;AAjBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBA;AAnBA;AAZA,CAAA","sourcesContent":["<template>\n  <van-cell class=\"comment-item\">\n    <van-image\n      slot=\"icon\"\n      class=\"avatar\"\n      round\n      fit=\"cover\"\n      src=\"https://img.yzcdn.cn/vant/cat.jpeg\"\n    />\n    <div slot=\"title\" class=\"title-wrap\">\n      <div class=\"user-name\">{{ comment.aut_name }}</div>\n      <van-button\n        class=\"like-btn\"\n        :class=\"{ like: comment.is_liking }\"\n        :icon=\"comment.is_liking ? 'good-job' : 'good-job-o'\"\n        @click=\"addLike\"\n        :loading=\"this.loading\"\n        >{{ comment.like_count || '赞' }}</van-button\n      >\n    </div>\n\n    <div slot=\"label\">\n      <p class=\"comment-content\">{{ comment.content }}</p>\n      <div class=\"bottom-info\">\n        <span class=\"comment-pubdate\">{{ comment.pubdate | computeTime }}</span>\n        <van-button class=\"reply-btn\" round\n          >回复 {{ comment.reply_count }}</van-button\n        >\n      </div>\n    </div>\n  </van-cell>\n</template>\n\n<script>\nexport default {\n  props: {\n    comment: {\n      required: true,\n      tyep: Object\n    }\n  },\n  data() {\n    return {\n      loading: false\n    }\n  },\n  methods: {\n    async addLike() {\n      this.loading = true\n      try {\n        if (!this.comment.is_liking) {\n          await this.$axios.post('v1_0/comment/likings', {\n            target: this.comment.com_id\n          })\n          this.comment.is_liking = true\n          this.comment.like_count++\n        } else {\n          await this.$axios.delete(\n            `v1_0/comment/likings/${this.comment.com_id}`\n          )\n          this.comment.is_liking = false\n          this.comment.like_count--\n        }\n      } catch (err) {}\n      this.loading = false\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.comment-item {\n  .avatar {\n    width: 72px;\n    height: 72px;\n    margin-right: 25px;\n  }\n  .title-wrap {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    .user-name {\n      color: #406599;\n      font-size: 26px;\n    }\n  }\n  .comment-content {\n    font-size: 32px;\n    color: #222222;\n    word-break: break-all;\n    text-align: justify;\n  }\n  .comment-pubdate {\n    font-size: 19px;\n    color: #222;\n    margin-right: 25px;\n  }\n  .bottom-info {\n    display: flex;\n    align-items: center;\n  }\n  .reply-btn {\n    width: 135px;\n    height: 48px;\n    line-height: 48px;\n    font-size: 21px;\n    color: #222;\n  }\n  .like-btn {\n    height: 30px;\n    padding: 0;\n    border: none;\n    font-size: 19px;\n    line-height: 30px;\n    margin-right: 7px;\n    .van-icon {\n      font-size: 30px;\n    }\n  }\n}\n.like {\n  color: rgb(243, 0, 0);\n}\n</style>\n"],"sourceRoot":"src/views/article/components"}]}