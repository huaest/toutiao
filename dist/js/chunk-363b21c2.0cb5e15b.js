(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-363b21c2"],{"159b":function(t,e,n){var s=n("da84"),a=n("fdbc"),r=n("785a"),c=n("17c2"),i=n("9112"),o=function(t){if(t&&t.forEach!==c)try{i(t,"forEach",c)}catch(e){t.forEach=c}};for(var u in a)o(s[u]&&s[u].prototype);o(r)},"17c2":function(t,e,n){"use strict";var s=n("b727").forEach,a=n("a640"),r=a("forEach");t.exports=r?[].forEach:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}},"481f":function(t,e,n){"use strict";n("dcdf")},5530:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,s)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},9639:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[t.user?n("div",{staticClass:"user-info"},[n("div",{staticClass:"base-info"},[n("div",{staticClass:"left"},[n("van-image",{staticClass:"avatar",attrs:{round:"",fit:"cover",src:t.userInfo.photo}}),n("span",{staticStyle:{color:"white"}},[t._v(t._s(t.userInfo.name))])],1),n("div",{staticClass:"right"},[n("van-button",{attrs:{size:"mini",round:"",to:"/userInfo"}},[t._v("编辑资料")])],1)]),n("div",{staticClass:"data-state"},[n("div",{staticClass:"data-item"},[n("span",{staticClass:"count"},[t._v(t._s(t.userInfo.art_count))]),n("span",{staticClass:"text"},[t._v("头条")])]),n("div",{staticClass:"data-item"},[n("span",{staticClass:"count"},[t._v(t._s(t.userInfo.fans_count))]),n("span",{staticClass:"text"},[t._v("关注")])]),n("div",{staticClass:"data-item"},[n("span",{staticClass:"count"},[t._v(t._s(t.userInfo.follow_count))]),n("span",{staticClass:"text"},[t._v("粉丝")])]),n("div",{staticClass:"data-item"},[n("span",{staticClass:"count"},[t._v(t._s(t.userInfo.like_count))]),n("span",{staticClass:"text"},[t._v("获赞")])])])]):n("div",{staticClass:"header"},[n("div",{staticClass:"avatar-container",on:{click:function(e){return t.$router.push("/login")}}},[t._m(0),n("span",{staticClass:"login"},[t._v("登入/注册")])])]),n("van-grid",{attrs:{"column-num":2,clickable:""}},[n("van-grid-item",{staticClass:"grid-item"},[n("i",{staticClass:"iconfont icon-shoucang",attrs:{slot:"icon"},slot:"icon"}),n("span",{attrs:{slot:"text"},slot:"text"},[t._v("收藏")])]),n("van-grid-item",{staticClass:"grid-item"},[n("i",{staticClass:"iconfont icon-lishi",attrs:{slot:"icon"},slot:"icon"}),n("span",{attrs:{slot:"text"},slot:"text"},[t._v("历史")])])],1),n("van-cell",{attrs:{title:"消息通知","is-link":""}}),n("van-cell",{attrs:{title:"小智同学","is-link":""}}),t.user?n("van-button",{staticClass:"logout",on:{click:t.logout}},[t._v("退出登入")]):t._e()],1)},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"avatar"},[n("img",{attrs:{src:"",alt:""}})])}],r=n("5530"),c=n("1da1"),i=(n("96cf"),n("2f62")),o={data:function(){return{userInfo:""}},created:function(){this.user&&this.getUserInfo()},methods:{logout:function(){var t=this;this.$dialog.confirm({title:"确认退出吗"}).then((function(){t.$store.commit("setUser",null)})).catch((function(){}))},getUserInfo:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("v1_0/user");case 3:n=e.sent,s=n.data,t.userInfo=s.data,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),t.$toast.fail("获取用户数据失败");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}},computed:Object(r["a"])({},Object(i["b"])(["user"]))},u=o,l=(n("481f"),n("2877")),f=Object(l["a"])(u,s,a,!1,null,"76b46920",null);e["default"]=f.exports},a640:function(t,e,n){"use strict";var s=n("d039");t.exports=function(t,e){var n=[][t];return!!n&&s((function(){n.call(null,e||function(){throw 1},1)}))}},b64b:function(t,e,n){var s=n("23e7"),a=n("7b0b"),r=n("df75"),c=n("d039"),i=c((function(){r(1)}));s({target:"Object",stat:!0,forced:i},{keys:function(t){return r(a(t))}})},dbb4:function(t,e,n){var s=n("23e7"),a=n("83ab"),r=n("56ef"),c=n("fc6a"),i=n("06cf"),o=n("8418");s({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(t){var e,n,s=c(t),a=i.f,u=r(s),l={},f=0;while(u.length>f)n=a(s,e=u[f++]),void 0!==n&&o(l,e,n);return l}})},dcdf:function(t,e,n){},e439:function(t,e,n){var s=n("23e7"),a=n("d039"),r=n("fc6a"),c=n("06cf").f,i=n("83ab"),o=a((function(){c(1)})),u=!i||o;s({target:"Object",stat:!0,forced:u,sham:!i},{getOwnPropertyDescriptor:function(t,e){return c(r(t),e)}})}}]);
//# sourceMappingURL=chunk-363b21c2.0cb5e15b.js.map